
  

# Задание

  

  

Необходимо сделать структуру базы данных и простую систему администрирования для хранения/редактирования следующей информации:

1) станция отправления;
2) время отправления;
3) станция прибытия;
4) время прибытия;
5) время в пути;
6) цена билета;
7) перевозчик;
8) график движения;
График движения может иметь значения ежедневно, по дням недели, например пн, ср:

Структура хранения в базе на Ваше усмотрение. База mysgl.

Необходимо написать миграции на базу.

Сделать на беке 3 эндпоинта:
- Получить данные
- Создать данные
- Отредактировать данные

Должно быть реализовано на RestAPI.

Интерфейс в стандартном grid-решении, например, на бугстрапе.

------------
## Результат:
• Результат должен быть выложен на СгнНиЬ
• Должен запускаться на РНР 7.1 и Yii2
• По фронту требований никаких не предъявляется.

Интерфейс не будет оцениваться.

Как плюс: Упаковать приложение в Docker-контейнер, который можно собрать и запустить локально.

------------
Контейнер должен подниматься одной командой (docker run или docker-compose). Файл README должен содержать описание как работать с приложением, запускать тесты.

Приложение должно быть доступно локально на 80 порту.


Приложение должно быть покрыто unit-тестами (на чем будут налисаны тесты не имеет значения).

# Решение

Для запуска приложения необходимо:
1. Настроить конфиги **/framework/config/db.php**
2. Включить **mod_rewrite**
3. Для авторизации использовать **admin/admin**
4. Выполнить миграции **./yii migrate**


## Особенности

1. Время в пути рассчитывается в модели  [https://bitbucket.org/xtetis/test__huskyjam.com/src/master/framework/models/Schedules.php](https://bitbucket.org/xtetis/test__huskyjam.com/src/master/framework/models/Schedules.php) метод **getDiffStartEndTime()**

## Тесты
Для запуска тестов перейти в директорию, куда установлен фреймворк. В моем случае - это **/var/www/test.lc/public_html/framework**

После - запускаем тесты командой **./vendor/bin/codecept run**

Есть следующие тесты
**/framework/tests/functional/AccessCest.php ** - для валидации ограниченности доступа

**/framework/tests/unit/models/UserTest.php**  - для теста по юзеру

**/framework/tests/unit/models/ValidateTest.php**  - короткий тест для валидации
